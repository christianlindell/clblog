---
title: Ändra bildformat i Rmarkdown
author: Christian Lindell
date: '2019-07-23'
slug: andra-bildformat-i-rmarkdown
categories:
  - R
tags:
  - rapportgenerering
---



<p>En sak det tog tid innan jag förstod är hur man kan ändra bildformat i en Rmarkdownfil. Informationen finns på nätet, men jag har inte lyckats hitta den bra sammanställd. Här kommer i alla fall mina lösningar på hur man byter bildformat mellan olika filformat som skapas av Rmarkdown (eller egentligten av pandoc som sköter konverteringen mellan olika filformat).</p>
<p>Ofta behöver man inte bry sig så mycket om filformat eftersom defaultformaten funkar ganska bra om man vill visa något på webben eller exportera till pdf. Däremot blir R-genererade diagram i MS Word-filer nästan olidligt usla eftersom de genereras som lågupplösta png-filer.</p>
<div id="skapa-snygga-diagram-i-ms-word" class="section level2">
<h2>Skapa snygga diagram i MS Word</h2>
<p>Vill man ha snygga diagram i MS Word får man antingen öka upplösningen på bilderna rejält eller använda ett vektorformat. Problemet är att de vanliga vektorformaten inte kan läsas i Word. Pdf funkar inte och sedan en tid har även stödet för EPS tagits bort av säkerhetsskäl. Vill man ha vektorgrafik i diagram kan man endast anväda sig av wmf, vilket är ett ålderstiget filformat som inte har stöd för alfa-blending, dvs. möjligen att skapa mer eller mindre transparenta objekt. Nyare versioner av Word har även stöd för SVG. Problemet är att personer som sitter på äldre versioner av Word inte kan se bilderna.). Ett ytterligare bildformat är emf+, vilket har stöd för alfablending. Vill man ha stöd för emf+ så får man installera paketet devEMF.</p>
</div>
<div id="använd-inte-det-inbygda-stödet-för-png" class="section level2">
<h2>Använd inte det inbygda stödet för png!</h2>
<p>R har ett inbyggd stöd för png som i Windows producerar bilder utan stöd för antialiasing, dvs utjämning av den taggighet som uppstår eftersom bilden byggs av fyrkantiga pixlar. Vill man ha snygga png-bilder får man insallera det grafiska bibliotektet Cairo (finns på CRAN) eller satsa på nykomlingen Ragg. I den här genomgången kommer jag att fokusera på Cairo eftersom det är ett moget programpaket som har hängt med i många år, medan Ragg bara är någon månad gammalt och i tidig version.</p>
<p>Bilderna nedan visar varför man bör satsa på att skapa png-bilder med stöd för antialisasing. Bilden till vänster är skapat med stöd av R:s inbyggda stöd för png på Windows. Den till höger har skapats med hjälp av Cairo-paketet:</p>
</div>
